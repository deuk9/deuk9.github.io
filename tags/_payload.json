[{"data":1,"prerenderedAt":731},["ShallowReactive",2],{"/tags":3},[4,701],{"id":5,"tags":6,"title":9,"date":10,"description":11,"path":12,"body":13},"contents/blog/test/index.md",[7,8],"test","archunit","archunit 을 활용한 코드 컨벤션 검증","2023-12-03","","/blog/test",{"type":14,"value":15,"toc":690},"minimal",[16,21,30,37,49,53,56,60,64,73,79,83,98,102,106,109,426,430,434,554,558,657,660,663,682,686],[17,18,20],"h2",{"id":19},"_1-archunit-을-활용한-테스트","1. archunit 을 활용한 테스트",[22,23,24,28],"ul",{},[25,26,27],"li",{},"테스트",[25,29,27],{},[31,32,33],"p",{},[34,35],"img",{"alt":27,"src":36},"/blog/test/sample.png",[31,38,39,40,43,44,46,47,46],{},"런타임전에 코드를 분석한다.",[41,42],"br",{},"\n코드 컨벤션, 안티 패턴등을 체크하는데 유용하다.",[41,45],{},"\n클래스의 postfix, 의존성, 어노테이션 체크등 여러가지 기능을 제공한다.",[41,48],{},[50,51,52],"h1",{"id":50},"H1",[17,54,55],{"id":17},"H2",[57,58,59],"h3",{"id":57},"H3",[61,62,63],"h4",{"id":61},"H4",[65,66,67,70],"ol",{},[25,68,69],{},"순서테스트",[25,71,72],{},"순서테스트 2",[31,74,75],{},[76,77,78],"code",{},"code 테스트 입니다",[17,80,82],{"id":81},"_2-의존성","2. 의존성",[84,85,89],"pre",{"className":86,"code":87,"language":88,"meta":11,"style":11},"language-gradle shiki shiki-themes github-light","testImplementation 'com.tngtech.archunit:archunit:1.1.0'\n","gradle",[76,90,91],{"__ignoreMap":11},[92,93,96],"span",{"class":94,"line":95},"line",1,[92,97,87],{},[17,99,101],{"id":100},"_3-테스트-작성","3. 테스트 작성",[57,103,105],{"id":104},"_31-코드-컨벤션-체크","3.1 코드 컨벤션 체크",[31,107,108],{},"아래의 예제는 controller 패키지의 클래스명은 Controller 로 끝나야하고, @RestController 어노테이션을 포함해야 한다는 것을 검증하는 코드이다.",[84,110,114],{"className":111,"code":112,"language":113,"meta":11,"style":11},"language-java shiki shiki-themes github-light","public class ArchitectureTest {  \n  \n  \n    JavaClasses javaClasses;  \n  \n    @BeforeEach  \n    void setup() {  \n        javaClasses = new ClassFileImporter()  \n                .withImportOption(new ImportOption.DoNotIncludeTests())  \n                .importPackages(\"com.example.deuktest\");  \n    }  \n  \n    @Test  \n    @DisplayName(\"Contoller 패키지의 클래스는 Contoller 로 끝나야한다.\")  \n    void controllerTest(){  \n        ArchRule rule = classes()  \n                .that().resideInAnyPackage(\"..controller\")  \n                .should().haveSimpleNameEndingWith(\"Controller\");  \n  \n        ArchRule annotationRule = classes()  \n                .that().resideInAnyPackage(\"..controller\")  \n                .should().beAnnotatedWith(RestController.class);  \n  \n        rule.check(javaClasses);  \n        annotationRule.check(javaClasses);  \n    }  \n}\n","java",[76,115,116,133,139,144,150,155,166,178,196,220,237,243,248,258,274,285,298,319,339,344,356,373,388,393,405,415,420],{"__ignoreMap":11},[92,117,118,122,125,129],{"class":94,"line":95},[92,119,121],{"class":120},"sXGI6","public",[92,123,124],{"class":120}," class",[92,126,128],{"class":127},"stlaL"," ArchitectureTest",[92,130,132],{"class":131},"sXk0b"," {  \n",[92,134,136],{"class":94,"line":135},2,[92,137,138],{"class":131},"  \n",[92,140,142],{"class":94,"line":141},3,[92,143,138],{"class":131},[92,145,147],{"class":94,"line":146},4,[92,148,149],{"class":131},"    JavaClasses javaClasses;  \n",[92,151,153],{"class":94,"line":152},5,[92,154,138],{"class":131},[92,156,158,161,164],{"class":94,"line":157},6,[92,159,160],{"class":131},"    @",[92,162,163],{"class":120},"BeforeEach",[92,165,138],{"class":131},[92,167,169,172,175],{"class":94,"line":168},7,[92,170,171],{"class":120},"    void",[92,173,174],{"class":127}," setup",[92,176,177],{"class":131},"() {  \n",[92,179,181,184,187,190,193],{"class":94,"line":180},8,[92,182,183],{"class":131},"        javaClasses ",[92,185,186],{"class":120},"=",[92,188,189],{"class":120}," new",[92,191,192],{"class":127}," ClassFileImporter",[92,194,195],{"class":131},"()  \n",[92,197,199,202,205,208,211,214,217],{"class":94,"line":198},9,[92,200,201],{"class":131},"                .",[92,203,204],{"class":127},"withImportOption",[92,206,207],{"class":131},"(",[92,209,210],{"class":120},"new",[92,212,213],{"class":131}," ImportOption.",[92,215,216],{"class":127},"DoNotIncludeTests",[92,218,219],{"class":131},"())  \n",[92,221,223,225,228,230,234],{"class":94,"line":222},10,[92,224,201],{"class":131},[92,226,227],{"class":127},"importPackages",[92,229,207],{"class":131},[92,231,233],{"class":232},"s2cXZ","\"com.example.deuktest\"",[92,235,236],{"class":131},");  \n",[92,238,240],{"class":94,"line":239},11,[92,241,242],{"class":131},"    }  \n",[92,244,246],{"class":94,"line":245},12,[92,247,138],{"class":131},[92,249,251,253,256],{"class":94,"line":250},13,[92,252,160],{"class":131},[92,254,255],{"class":120},"Test",[92,257,138],{"class":131},[92,259,261,263,266,268,271],{"class":94,"line":260},14,[92,262,160],{"class":131},[92,264,265],{"class":120},"DisplayName",[92,267,207],{"class":131},[92,269,270],{"class":232},"\"Contoller 패키지의 클래스는 Contoller 로 끝나야한다.\"",[92,272,273],{"class":131},")  \n",[92,275,277,279,282],{"class":94,"line":276},15,[92,278,171],{"class":120},[92,280,281],{"class":127}," controllerTest",[92,283,284],{"class":131},"(){  \n",[92,286,288,291,293,296],{"class":94,"line":287},16,[92,289,290],{"class":131},"        ArchRule rule ",[92,292,186],{"class":120},[92,294,295],{"class":127}," classes",[92,297,195],{"class":131},[92,299,301,303,306,309,312,314,317],{"class":94,"line":300},17,[92,302,201],{"class":131},[92,304,305],{"class":127},"that",[92,307,308],{"class":131},"().",[92,310,311],{"class":127},"resideInAnyPackage",[92,313,207],{"class":131},[92,315,316],{"class":232},"\"..controller\"",[92,318,273],{"class":131},[92,320,322,324,327,329,332,334,337],{"class":94,"line":321},18,[92,323,201],{"class":131},[92,325,326],{"class":127},"should",[92,328,308],{"class":131},[92,330,331],{"class":127},"haveSimpleNameEndingWith",[92,333,207],{"class":131},[92,335,336],{"class":232},"\"Controller\"",[92,338,236],{"class":131},[92,340,342],{"class":94,"line":341},19,[92,343,138],{"class":131},[92,345,347,350,352,354],{"class":94,"line":346},20,[92,348,349],{"class":131},"        ArchRule annotationRule ",[92,351,186],{"class":120},[92,353,295],{"class":127},[92,355,195],{"class":131},[92,357,359,361,363,365,367,369,371],{"class":94,"line":358},21,[92,360,201],{"class":131},[92,362,305],{"class":127},[92,364,308],{"class":131},[92,366,311],{"class":127},[92,368,207],{"class":131},[92,370,316],{"class":232},[92,372,273],{"class":131},[92,374,376,378,380,382,385],{"class":94,"line":375},22,[92,377,201],{"class":131},[92,379,326],{"class":127},[92,381,308],{"class":131},[92,383,384],{"class":127},"beAnnotatedWith",[92,386,387],{"class":131},"(RestController.class);  \n",[92,389,391],{"class":94,"line":390},23,[92,392,138],{"class":131},[92,394,396,399,402],{"class":94,"line":395},24,[92,397,398],{"class":131},"        rule.",[92,400,401],{"class":127},"check",[92,403,404],{"class":131},"(javaClasses);  \n",[92,406,408,411,413],{"class":94,"line":407},25,[92,409,410],{"class":131},"        annotationRule.",[92,412,401],{"class":127},[92,414,404],{"class":131},[92,416,418],{"class":94,"line":417},26,[92,419,242],{"class":131},[92,421,423],{"class":94,"line":422},27,[92,424,425],{"class":131},"}\n",[57,427,429],{"id":428},"_32-의존성-체크","3.2 의존성 체크",[61,431,433],{"id":432},"_321-controller-는-service-request-response-패키지의-클래스만-의존할-수-있다","3.2.1 Controller 는 service, request, response 패키지의 클래스만 의존할 수 있다.",[84,435,437],{"className":111,"code":436,"language":113,"meta":11,"style":11},"@Test  \n@DisplayName(\"Controller는 Service와 Request/Response 를 사용할 수 있음.\")  \nvoid controllerDependencyTest() {  \n    ArchRule rule = classes()  \n            .that().resideInAnyPackage(\"..controller\")  \n            .should().dependOnClassesThat()  \n            .resideInAnyPackage(\"..service..\", \"..request..\",\"..response..\");  \n  \n    rule.check(javaClasses);  \n}\n",[76,438,439,448,461,471,482,499,512,537,541,550],{"__ignoreMap":11},[92,440,441,444,446],{"class":94,"line":95},[92,442,443],{"class":131},"@",[92,445,255],{"class":120},[92,447,138],{"class":131},[92,449,450,452,454,456,459],{"class":94,"line":135},[92,451,443],{"class":131},[92,453,265],{"class":120},[92,455,207],{"class":131},[92,457,458],{"class":232},"\"Controller는 Service와 Request/Response 를 사용할 수 있음.\"",[92,460,273],{"class":131},[92,462,463,466,469],{"class":94,"line":141},[92,464,465],{"class":120},"void",[92,467,468],{"class":127}," controllerDependencyTest",[92,470,177],{"class":131},[92,472,473,476,478,480],{"class":94,"line":146},[92,474,475],{"class":131},"    ArchRule rule ",[92,477,186],{"class":120},[92,479,295],{"class":127},[92,481,195],{"class":131},[92,483,484,487,489,491,493,495,497],{"class":94,"line":152},[92,485,486],{"class":131},"            .",[92,488,305],{"class":127},[92,490,308],{"class":131},[92,492,311],{"class":127},[92,494,207],{"class":131},[92,496,316],{"class":232},[92,498,273],{"class":131},[92,500,501,503,505,507,510],{"class":94,"line":157},[92,502,486],{"class":131},[92,504,326],{"class":127},[92,506,308],{"class":131},[92,508,509],{"class":127},"dependOnClassesThat",[92,511,195],{"class":131},[92,513,514,516,518,520,523,526,529,532,535],{"class":94,"line":168},[92,515,486],{"class":131},[92,517,311],{"class":127},[92,519,207],{"class":131},[92,521,522],{"class":232},"\"..service..\"",[92,524,525],{"class":131},", ",[92,527,528],{"class":232},"\"..request..\"",[92,530,531],{"class":131},",",[92,533,534],{"class":232},"\"..response..\"",[92,536,236],{"class":131},[92,538,539],{"class":94,"line":180},[92,540,138],{"class":131},[92,542,543,546,548],{"class":94,"line":198},[92,544,545],{"class":131},"    rule.",[92,547,401],{"class":127},[92,549,404],{"class":131},[92,551,552],{"class":94,"line":222},[92,553,425],{"class":131},[61,555,557],{"id":556},"_322-controller-는-model-을-의존할-수-없다","3.2.2 Controller 는 model 을 의존할 수 없다.",[84,559,561],{"className":111,"code":560,"language":113,"meta":11,"style":11},"@Test  \n@DisplayName(\"Controller 는 모델을 사용할 수 없다.\")  \nvoid controllerCantHaveModelTest() {  \n    ArchRule rule = noClasses()  \n            .that().resideInAnyPackage(\"..controller\")  \n            .should().dependOnClassesThat().resideInAnyPackage(\"..model..\");  \n  \n    rule.check(javaClasses);  \n}\n",[76,562,563,571,584,593,604,620,641,645,653],{"__ignoreMap":11},[92,564,565,567,569],{"class":94,"line":95},[92,566,443],{"class":131},[92,568,255],{"class":120},[92,570,138],{"class":131},[92,572,573,575,577,579,582],{"class":94,"line":135},[92,574,443],{"class":131},[92,576,265],{"class":120},[92,578,207],{"class":131},[92,580,581],{"class":232},"\"Controller 는 모델을 사용할 수 없다.\"",[92,583,273],{"class":131},[92,585,586,588,591],{"class":94,"line":141},[92,587,465],{"class":120},[92,589,590],{"class":127}," controllerCantHaveModelTest",[92,592,177],{"class":131},[92,594,595,597,599,602],{"class":94,"line":146},[92,596,475],{"class":131},[92,598,186],{"class":120},[92,600,601],{"class":127}," noClasses",[92,603,195],{"class":131},[92,605,606,608,610,612,614,616,618],{"class":94,"line":152},[92,607,486],{"class":131},[92,609,305],{"class":127},[92,611,308],{"class":131},[92,613,311],{"class":127},[92,615,207],{"class":131},[92,617,316],{"class":232},[92,619,273],{"class":131},[92,621,622,624,626,628,630,632,634,636,639],{"class":94,"line":157},[92,623,486],{"class":131},[92,625,326],{"class":127},[92,627,308],{"class":131},[92,629,509],{"class":127},[92,631,308],{"class":131},[92,633,311],{"class":127},[92,635,207],{"class":131},[92,637,638],{"class":232},"\"..model..\"",[92,640,236],{"class":131},[92,642,643],{"class":94,"line":168},[92,644,138],{"class":131},[92,646,647,649,651],{"class":94,"line":180},[92,648,545],{"class":131},[92,650,401],{"class":127},[92,652,404],{"class":131},[92,654,655],{"class":94,"line":198},[92,656,425],{"class":131},[658,659],"hr",{},[31,661,662],{},"Reference",[22,664,665,668,677,679],{},[25,666,667],{},"hi",[25,669,670],{},[671,672,676],"a",{"href":673,"rel":674},"https://www.inflearn.com/course/%EC%A5%AC%EC%A5%AC%EC%99%80-%ED%95%98%EB%A3%A8%EB%A7%8C%EC%97%90-%EB%81%9D%EB%82%B4%EB%8A%94-%EC%8A%A4%ED%94%84%EB%A7%81%ED%85%8C%EC%8A%A4%ED%8A%B8/dashboard",[675],"nofollow","쥬쥬와-하루만에-끝내는-스프링테스트",[25,678,27],{},[25,680,681],{},"ㅇㅇ",[65,683,684],{},[25,685,27],{},[687,688,689],"style",{},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html pre.shiki code .sXGI6, html code.shiki .sXGI6{--shiki-default:#D73A49}html pre.shiki code .stlaL, html code.shiki .stlaL{--shiki-default:#6F42C1}html pre.shiki code .sXk0b, html code.shiki .sXk0b{--shiki-default:#24292E}html pre.shiki code .s2cXZ, html code.shiki .s2cXZ{--shiki-default:#032F62}",{"title":11,"searchDepth":135,"depth":135,"links":691},[692,693,696,697],{"id":19,"depth":135,"text":20},{"id":17,"depth":135,"text":55,"children":694},[695],{"id":57,"depth":141,"text":59},{"id":81,"depth":135,"text":82},{"id":100,"depth":135,"text":101,"children":698},[699,700],{"id":104,"depth":141,"text":105},{"id":428,"depth":141,"text":429},{"id":702,"tags":703,"title":704,"date":705,"description":706,"path":707,"body":708},"contents/blog/line/line.md",[94,7],"라인","2021-10-26","meta description of the page","/blog/line/line",{"type":14,"value":709,"toc":728},[710,716,719,722,724],[31,711,712,713,715],{},"dddd",[41,714],{},"\ndd",[31,717,718],{},"dd",[31,720,721],{},"여기는아님",[658,723],{},[17,725,727],{"id":726},"using-backticks","Using Backticks",{"title":11,"searchDepth":135,"depth":135,"links":729},[730],{"id":726,"depth":135,"text":727},1738313250627]