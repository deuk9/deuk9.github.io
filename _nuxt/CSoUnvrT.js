import{_ as B,a as M}from"./Dzf5vI7H.js";import{_ as S}from"./tp5s64j3.js";import{u as I,e as L,f as C,o as a,c as m,g as p,w as b,h as _,a as e,t as d,i as R,j as V,k as w,l as v,m as r,F as j,r as q,b as A}from"./UU1K1ejp.js";import{u as P,q as k}from"./1YxpdsJ6.js";function E(f,t){const{title:o,titleTemplate:l,...i}=f;return I({title:o,titleTemplate:l,_flatMeta:i},{...t,transform(s){const h=L({...s._flatMeta});return delete s._flatMeta,{...s,meta:h}}})}const F={class:"grid grid-cols-2 gap-40 mt-6"},H={class:"text-sm font-semibold text-gray-800 mt-1 truncate w-full"},G={class:"text-sm font-semibold text-gray-800 mt-1 truncate w-full"},T=C({__name:"PostNavigation",props:{previousPost:{},nextPost:{}},setup(f){return(t,o)=>{const l=S;return a(),m("div",F,[t.previousPost?(a(),p(l,{key:0,to:t.previousPost.path,class:"block p-2 border rounded-md shadow-sm hover:shadow-md transition transform hover:-translate-y-0.5 bg-gray-50 w-full"},{default:b(()=>[o[0]||(o[0]=e("div",{class:"text-xs text-gray-500"},"Previous Post",-1)),e("div",H,d(t.previousPost.title),1)]),_:1},8,["to"])):_("",!0),t.nextPost?(a(),p(l,{key:1,to:t.nextPost.path,class:"block p-2 border rounded-md shadow-sm hover:shadow-md transition transform hover:-translate-y-0.5 bg-gray-50 text-right w-full"},{default:b(()=>[o[1]||(o[1]=e("div",{class:"text-xs text-gray-500"},"Next Post",-1)),e("div",G,d(t.nextPost.title),1)]),_:1},8,["to"])):_("",!0)])}}}),U={class:"container mx-auto flex flex-col lg:flex-row gap-6 px-4 py-8"},z={key:0,class:"flex-1"},J={class:"mb-12"},K={class:"text-4xl font-bold text-gray-800 mb-2"},O={class:"text-sm text-gray-500 mt-5"},Q=["datetime"],W={class:"mt-7 border-b pb-7"},X={class:"flex flex-wrap gap-2"},Y={class:"mb-7"},Z={class:"border-t border-gray-200"},at=C({__name:"[...slug]",async setup(f){var x,g;let t,o;const l=R().public.author,i=V(),{data:s}=([t,o]=w(()=>P(i.path,()=>k("contents").path(i.path).first(),"$ij35HG41ph")),t=await t,o(),t);E({title:(x=s.value)==null?void 0:x.title,description:(g=s.value)==null?void 0:g.description});const h=v(()=>new Date(s.value.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})),{data:u}=([t,o]=w(()=>P("all-posts",()=>k("contents").select("title","path","date").order("date","DESC").all())),t=await t,o(),t),$=v(()=>{const n=u.value.findIndex(c=>c.path===i.path);return n>0?u.value[n-1]:null}),D=v(()=>{const n=u.value.findIndex(c=>c.path===i.path);return n<u.value.length-1?u.value[n+1]:null});return(n,c)=>{const N=B;return a(),m("div",U,[r(s)?(a(),m("main",z,[e("div",J,[e("h1",K,d(r(s).title),1),e("div",O,[e("div",null,[e("time",{datetime:r(s).date},d(h.value),9,Q)]),e("div",null," By "+d(r(l)),1)]),e("div",W,[e("div",X,[(a(!0),m(j,null,q(r(s).tags,y=>(a(),p(M,{key:y,tag:y},null,8,["tag"]))),128))])])]),e("article",Y,[r(s).body?(a(),p(N,{key:0,value:r(s).body},null,8,["value"])):_("",!0)]),e("div",Z,[A(T,{"previous-post":D.value,"next-post":$.value},null,8,["previous-post","next-post"])])])):_("",!0)])}}});export{at as default};
