import{u as y,_ as M,a as S,q as b}from"./D3i6G7TR.js";import{_ as I}from"./BiMNXqEc.js";import{u as L,e as R,f as $,c as h,g as v,w,h as P,o as l,a as e,t as d,i as V,j,k,l as _,m as u,F as q,r as A,b as C}from"./a83qh99j.js";function E(m,t){const{title:s,titleTemplate:n,...r}=m;return L({title:s,titleTemplate:n,_flatMeta:r},{...t,transform(a){const p=R({...a._flatMeta});return delete a._flatMeta,{...a,meta:p}}})}const F={class:"grid grid-cols-2 gap-40 mt-6"},H={class:"text-sm font-semibold text-gray-800 mt-1 truncate w-full"},G={class:"text-sm font-semibold text-gray-800 mt-1 truncate w-full"},T=$({__name:"PostNavigation",props:{previousPost:{},nextPost:{}},setup(m){return(t,s)=>{const n=I;return l(),h("div",F,[t.previousPost?(l(),v(n,{key:0,to:t.previousPost.path,class:"block p-2 border rounded-md shadow-sm hover:shadow-md transition transform hover:-translate-y-0.5 bg-gray-50 w-full"},{default:w(()=>[s[0]||(s[0]=e("div",{class:"text-xs text-gray-500"},"Previous Post",-1)),e("div",H,d(t.previousPost.title),1)]),_:1},8,["to"])):P("",!0),t.nextPost?(l(),v(n,{key:1,to:t.nextPost.path,class:"block p-2 border rounded-md shadow-sm hover:shadow-md transition transform hover:-translate-y-0.5 bg-gray-50 text-right w-full"},{default:w(()=>[s[1]||(s[1]=e("div",{class:"text-xs text-gray-500"},"Next Post",-1)),e("div",G,d(t.nextPost.title),1)]),_:1},8,["to"])):P("",!0)])}}}),U={class:"container mx-auto flex flex-col lg:flex-row gap-6 px-4 py-8"},z={class:"flex-1"},J={class:"mb-12"},K={class:"text-4xl font-bold text-gray-800 mb-2"},O={class:"text-sm text-gray-500 mt-5"},Q=["datetime"],W={class:"mt-7 border-b pb-7"},X={class:"flex flex-wrap gap-2"},Y={class:"mb-7"},Z={class:"border-t border-gray-200"},at=$({__name:"[...slug]",async setup(m){var f,x;let t,s;const n=V().public.author,r=j(),{data:a}=([t,s]=k(()=>y(r.path,()=>b("contents").path(r.path).first(),"$ij35HG41ph")),t=await t,s(),t);E({title:(f=a.value)==null?void 0:f.title,description:(x=a.value)==null?void 0:x.description});const p=_(()=>new Date(a.value.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})),{data:i}=([t,s]=k(()=>y("all-posts",()=>b("contents").select("title","path","date").order("date","DESC").all())),t=await t,s(),t),D=_(()=>{const o=i.value.findIndex(c=>c.path===r.path);return o>0?i.value[o-1]:null}),N=_(()=>{const o=i.value.findIndex(c=>c.path===r.path);return o<i.value.length-1?i.value[o+1]:null});return(o,c)=>{const B=M;return l(),h("div",U,[e("main",z,[e("div",J,[e("h1",K,d(u(a).title),1),e("div",O,[e("div",null,[e("time",{datetime:u(a).date},d(p.value),9,Q)]),e("div",null," By "+d(u(n)),1)]),e("div",W,[e("div",X,[(l(!0),h(q,null,A(u(a).tags,g=>(l(),v(S,{key:g,tag:g},null,8,["tag"]))),128))])])]),e("article",Y,[C(B,{value:u(a)},null,8,["value"])]),e("div",Z,[C(T,{"previous-post":N.value,"next-post":D.value},null,8,["previous-post","next-post"])])])])}}});export{at as default};
